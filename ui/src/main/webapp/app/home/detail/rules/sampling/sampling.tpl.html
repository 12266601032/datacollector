<div class="sampling-tab">
  <form class="form-horizontal" role="form"
        ng-class="{'form-group-sm': ($storage.displayDensity === pipelineConstant.DENSITY_COZY || $storage.displayDensity === pipelineConstant.DENSITY_COMPACT)}"
        name="{{detailPaneConfig.instanceName || 'pipeline'}}">

    <button type="button" class="btn btn-primary btn-sm add-button"
            ng-click="createSamplingRule()">
      <i class="fa fa-plus"></i> {{'global.form.add' | translate}}
    </button>

    <table class="table">
      <thead>
      <tr>
        <th class="col-md-1">{{'home.detailPane.rulesTab.enabled' | translate}}</th>
        <th class="col-md-5">{{'home.detailPane.rulesTab.label' | translate}}</th>
        <th class="col-md-4">{{'home.detailPane.rulesTab.condition' | translate}}</th>
        <th class="col-md-1">{{'home.detailPane.rulesTab.samplingPercentage' | translate}}</th>
        <th></th>
      </tr>
      </thead>
      <tbody ng-hide="showLoading">

      <tr ng-repeat="samplingRule in samplingDefinitions = (pipelineRules.samplingDefinitions | filter: { lane: selectedObject.outputLane })">

        <td>
          <input type="checkbox" name="enabled{{$index}}"
                 ng-model="samplingRule.enabled">
        </td>

        <td>
          <textarea class="form-control" name="alertText{{$index}}" rows="1"
                    placeholder="{{'home.detailPane.rulesTab.labelPlaceholder' | translate}}"
                    ng-model="samplingRule.label"
                    ng-required="true"></textarea>
        </td>

        <td class="expression-language">
          <input type="text" class="form-control" name="predicate{{$index}}"
                 placeholder="{{'home.detailPane.rulesTab.condition' | translate}}"
                 ng-model="samplingRule.predicate"
                 ng-required="true">
        </td>

        <td class="threshold-column">
          <input type="text" class="form-control" name="samplingPercentage{{$index}}"
                 placeholder="{{'home.detailPane.rulesTab.samplingPercentagePlaceholder' | translate}}"
                 ng-model="samplingRule.samplingPercentage"
                 ng-required="true">
        </td>

        <td>
          <div class="col-xs-1 btn-group" role="group" aria-label="Default button group">
            <button type="button" class="btn btn-danger btn-sm"
                    tooltip-placement="bottom" tooltip="{{'home.detailPane.rulesTab.deleteRuleTooltip' | translate}}"
                    ng-click="removeRule(pipelineRules.samplingDefinitions, $index)">
              <i class="fa fa-minus pointer"></i>
            </button>
          </div>
        </td>

      </tr>

      <tr ng-if="samplingDefinitions.length === 0">
        <td colspan="3" class="no-records text-center"
            translate="home.detailPane.rulesTab.noSamplingRules">No Sampling Rules to view.</td>
      </tr>

      </tbody>
    </table>

    <div show-loading="showLoading"></div>
  </form>
</div>