<div class="panel panel-default snapshot-pane"
     ng-controller="SnapshotController"
     ng-show="snapshotMode">

  <div class="panel-heading clearfix">
    <h3 class="panel-title pull-left">{{'home.header.snapshot' | translate}}: {{detailPaneConfig.uiInfo.label}} </h3>

    <div class="pull-right size-toolbar">
      <span class="glyphicon pointer"
            ng-hide="$storage.maximizeDetailPane"
            ng-class="{'glyphicon-minus' : !$storage.minimizeDetailPane , 'glyphicon-resize-full': $storage.minimizeDetailPane}"
            ng-click="onMinimizeDetailPane()"></span>
      <span class="glyphicon pointer"
            ng-hide="$storage.minimizeDetailPane"
            ng-class="{'glyphicon-fullscreen' : !$storage.maximizeDetailPane , 'glyphicon-resize-small': $storage.maximizeDetailPane}"
            ng-click="onMaximizeDetailPane()"></span>
    </div>

    <div class="pull-right preview-toolbar">

      <div ng-if="previousStageInstances.length > 1" class="dropdown pull-left">
        <button type="button" class="btn btn-primary btn-sm"
                data-toggle="dropdown">
          <span class="glyphicon glyphicon-arrow-left"></span>
          <span translate="global.form.previousStage">Previous Stage</span>
        </button>
        <ul class="dropdown-menu" role="menu" class="pull-left">
          <li ng-repeat="previousStageInstance in previousStageInstances">
            <a href="#" ng-click="previousStagePreview(previousStageInstance)">
              {{previousStageInstance.uiInfo.label}}
            </a>
          </li>
        </ul>
      </div>

      <div ng-if="previousStageInstances.length <= 1" class="pull-left">
        <button type="button" class="btn btn-primary btn-sm"
                ng-click="previousStagePreview(previousStageInstances[0])"
                ng-disabled="previousStageInstances.length === 0">
          <span class="glyphicon glyphicon-arrow-left"></span>
          <span translate="global.form.previousStage">Previous Stage</span>
        </button>
      </div>

      <div ng-if="nextStageInstances.length > 1" class="dropdown pull-right">
        <button type="button" class="btn btn-primary btn-sm"
                data-toggle="dropdown">
          <span translate="global.form.nextStage">Next Stage</span>
          <span class="glyphicon glyphicon-arrow-right"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
          <li ng-repeat="nextStageInstance in nextStageInstances">
            <a href="#" ng-click="nextStagePreview(nextStageInstance, stagePreviewData.output)">
              {{nextStageInstance.uiInfo.label}}
            </a>
          </li>
        </ul>
      </div>

      <div ng-if="nextStageInstances.length <= 1" class="pull-right">
        <button type="button" class="btn btn-primary btn-sm"
                ng-disabled="nextStageInstances.length === 0"
                ng-click="nextStagePreview(nextStageInstances[0], stagePreviewData.output)">
          <span translate="global.form.nextStage">Next Stage</span>
          <span class="glyphicon glyphicon-arrow-right"></span>
        </button>
      </div>

    </div>


  </div>
  <div class="panel-body">
    <ng-include src="'app/home/preview/common/previewCommon.tpl.html'"></ng-include>
  </div>

</div>