<ng-include src="'app/home/library/import/importModal.tpl.html'"></ng-include>
<div class="panel panel-default library-pane" ng-controller="LibraryController">

  <!--div class="panel-heading clearfix">
    <h3 class="panel-title pull-left" translate="global.form.library">Library</h3>
  </div-->

  <div class="panel-body">

    <button type="button" class="btn btn-primary btn-sm create-pipeline-btn" ng-click="addPipelineConfig()">
      <span class="glyphicon glyphicon-plus"></span>
      <span translate="home.header.createNewPipeline">Create New Pipeline</span>
    </button>

    <ul class="list-group">
      <li class="list-group-item pointer clearfix"
          ng-class="{'active' : pipeline.name === activeConfigInfo.name}"
          ng-repeat="pipeline in pipelines"
          ng-click="onSelect(pipeline)">

        <div class="pipeline-details pull-left">
          <span>{{pipeline.name}}</span>
          <!--h5 class="list-group-item-heading">{{pipeline.name}}</h5-->
          <!--p class="list-group-item-text">{{pipeline.description}}</p-->
        </div>

        <div class="action-menu pull-right" dropdown
             ng-if="pipeline.name === activeConfigInfo.name">
          <span class="dropdown-toggle" dropdown-toggle aria-expanded="true"
                tooltip-placement="bottom"
                tooltip="{{'global.form.actions' | translate}}"
                tooltip-popup-delay="500"
                tooltip-append-to-body="true"
                ng-click="$event.stopPropagation();">
            <i class="fa fa-ellipsis-v"></i>
          </span>
          <ul class="dropdown-menu" role="menu">
            <li role="presentation"
                ng-hide="pipeline.name === common.pipelineStatus.name  && common.pipelineStatus.state === 'RUNNING'">
              <a role="menuitem" tabindex="-1" href="#"
                 dropdown-toggle
                 translate="global.form.delete"
                 ng-click="deletePipelineConfig(pipeline, $event)">
                Delete
              </a>
            </li>
            <li role="presentation">
              <a role="menuitem" tabindex="-1" href="#"
                 dropdown-toggle
                 translate="global.form.duplicate"
                 ng-click="duplicatePipelineConfig(pipeline, $event)">
                Duplicate
              </a>
            </li>
            <li role="presentation">
              <a role="menuitem" tabindex="-1" href="#"
                 dropdown-toggle
                 translate="global.form.import"
                 ng-click="importPipelineConfig(pipeline, $event)">
                Duplicate
              </a>
            </li>
            <li role="presentation">
              <a role="menuitem" tabindex="-1" href="#"
                 dropdown-toggle
                 translate="global.form.export"
                 ng-click="exportPipelineConfig(pipeline, $event)">
                Duplicate
              </a>
            </li>
          </ul>
        </div>

        <div class="pull-right running"
             ng-if="pipeline.name === common.pipelineStatus.name  && common.pipelineStatus.state === 'RUNNING'">
          <i class="fa fa-spinner fa-spin fa-14x"></i>
        </div>

      </li>

      <li class="list-group-item" ng-if="!pipelines || pipelines.length === 0" translate="home.library.emptyPipelineList">
        No Pipeline to view.
      </li>

    </ul>

  </div>

 </div>