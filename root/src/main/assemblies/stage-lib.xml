<?xml version="1.0" encoding="UTF-8"?>
<!--
 (c) 2015 StreamSets, Inc. All rights reserved. May not
 be copied, modified, or distributed in whole or part without
 written consent of StreamSets, Inc.
-->
<!--
  Common assembly used by stage library modules
-->
<assembly>
  <id>stage-lib</id>
  <formats>
    <format>dir</format>
  </formats>
  <includeBaseDirectory>false</includeBaseDirectory>

  <fileSets>
  </fileSets>

  <dependencySets>

    <dependencySet>
      <useProjectArtifact>true</useProjectArtifact>
      <useTransitiveDependencies>true</useTransitiveDependencies>
      <useTransitiveFiltering>true</useTransitiveFiltering>
      <outputDirectory>/${project.artifactId}/lib</outputDirectory>
      <unpack>false</unpack>
      <scope>runtime</scope>
      <!-- Jython must be packaged differently. -->
      <excludes>
        <exclude>org.python:jython-standalone</exclude>

        <!-- Excluding Xerces and XML-APIs from all stages ot avoid classloader issues, the one from the JDK works -->
        <exclude>xerces:xercesImpl</exclude>
        <exclude>xml-apis:xml-apis</exclude>
      </excludes>
    </dependencySet>

  </dependencySets>

</assembly>
