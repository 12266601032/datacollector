
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="RabbitMQ Consumer reads messages from a single RabbitMQ queue. When you configure the origin, you specify the information needed to connect to RabbitMQ client. You also define a queue and the bindings ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="copyright" content="(C) Copyright 2005"></meta><meta name="DC.rights.owner" content="(C) Copyright 2005"></meta><meta name="DC.Type" content="concept"></meta><meta name="DC.Title" content="RabbitMQ Consumer"></meta><meta name="abstract" content="RabbitMQ Consumer reads messages from a single RabbitMQ queue."></meta><meta name="description" content="RabbitMQ Consumer reads messages from a single RabbitMQ queue."></meta><meta name="DC.Relation" scheme="URI" content="../Origins/Origins_title.html"></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="concept_dyg_lq1_h5"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>RabbitMQ Consumer</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css"><!----></link><link rel="stylesheet" type="text/css" href="../skin.css"></link><script type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--></head>
<body onload="highlightSearchTerm()" class="frmBody"><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
​
  ga('create', 'UA-53969024-1', 'auto');
  ga('send', 'pageview');
​
</script>
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="../Origins/Origins_title.html" title="Origins">Origins</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="../Origins/Origins_title.html" title="Origins"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Origins</span></a></span>  </div></td></tr></tbody></table>
<div class="nested0" id="concept_dyg_lq1_h5">
 <h1 class="title topictitle1">RabbitMQ Consumer</h1>

 
 <div class="body conbody"><p class="shortdesc">RabbitMQ Consumer reads messages from a single RabbitMQ queue.</p>

  <p class="p">When you configure the origin, you specify the
            information needed to connect to RabbitMQ client. You also define a queue and the
            bindings to use. You can use multiple bindings to read messages from one or more
            exchanges. </p>

        <p class="p">You can add custom configuration options and define connection credentials as needed. </p>

 </div>

<div class="related-links"></div>
<div class="topic concept nested1" id="concept_z2d_mgr_k5">
 <h2 class="title topictitle2">Queue</h2>

 
 <div class="body conbody"><p class="shortdesc">RabbitMQ Consumer reads messages from a specified queue. </p>

  <p class="p">When you configure the
            origin, you define the queue name and other properties. If a queue of the specified name
            does not exist, RabbitMQ creates the queue based on the properties that you defined. </p>

        <p class="p">If the queue does exist but the properties are incorrect, error messages display when
            trying to connect. </p>

 </div>

</div>
<div class="topic concept nested1" id="concept_nhr_5tk_k5">
 <h2 class="title topictitle2">Data Formats</h2>

 <div class="body conbody">
        <p class="p">The RabbitMQ Consumer origin processes data
            differently based on the data format. The origin can process the following types of
            data:</p>

        <dl class="dl">
            
                              <dt class="dt dlterm">Text</dt>

                              <dd class="dd">Generates a record for each line of text. </dd>

                              <dd class="dd">When a line exceeds the maximum line length defined for the
                                    origin, the origin truncates the line. The origin adds a boolean
                                    field named Truncated to indicate if the line was
                                    truncated.</dd>

                        
            
                              <dt class="dt dlterm">JSON</dt>

                              <dd class="dd">Generates a record for each JSON object. You can process JSON
                                    files that include multiple JSON objects or a single JSON
                                    array.</dd>

                              <dd class="dd">When an object exceeds the maximum object length defined for the
                                    origin, the origin processes the object based on the error
                                    handling configured for the stage. </dd>

                        
            
                              <dt class="dt dlterm">Delimited</dt>

                              <dd class="dd">Generates a record for each delimited line. You can use the
                                    following delimited format types:<ul class="ul" id="concept_nhr_5tk_k5__d4473e204">
                                          <li class="li"><span class="ph uicontrol">Default CSV</span> - File that
                                                includes comma-separated values. Ignores empty lines
                                                in the file.</li>

                                          <li class="li"><span class="ph uicontrol">RFC4180 CSV</span> - Comma-separated
                                                file that strictly follows RFC4180 guidelines.</li>

                                          <li class="li"><span class="ph uicontrol">MS Excel CSV</span> - Microsoft Excel
                                                comma-separated file.</li>

                                          <li class="li"><span class="ph uicontrol">MySQL CSV</span> - MySQL comma
                                                separated file.</li>

                                          <li class="li"><span class="ph uicontrol">Tab-Separated Values</span> - File
                                                that includes tab-separated values.</li>

                                          <li class="li"><span class="ph uicontrol">Custom</span> - File that uses
                                                user-defined delimiter, escape, and quote
                                                characters.</li>

                                    </ul>
</dd>

                              <dd class="dd">You can use a list or list-map root field type for delimited data,
                                    optionally including the header information when available. </dd>

                              <dd class="dd">When a record exceeds the maximum record length defined for the
                                    origin, the origin processes the object based on the error
                                    handling configured for the stage.</dd>

                              <dd class="dd">For more information about the root field types, see <a class="xref" href="../Pipeline_Design/DelimitedDataRootFieldTypes.html#concept_zcg_bm4_fs">Delimited Data Root Field Type</a>.</dd>

                        
            
                              <dt class="dt dlterm">XML</dt>

                              <dd class="dd">Generates records based on the location of the XML element that
                                    you define as the record delimiter. If you do not define a
                                    delimiter element, the origin treats the XML file as a single
                                    record.</dd>

                              <dd class="dd">When a record exceeds the user-defined maximum record length, the
                                    origin skips the record and continues processing with the next
                                    record. It sends the skipped record to the pipeline for error
                                    handling. </dd>

                        
            
                              <dt class="dt dlterm">SDC Records</dt>

                              <dd class="dd">Generates a record for every record. Use to process records
                                    generated by a <span class="ph">Data
                  Collector</span> pipeline using the SDC Record data format.</dd>

                              <dd class="dd">For error records, the origin  provides the original record as
                                    read from the origin in the original pipeline, as well as error
                                    information that you can use to correct the record. </dd>

                              <dd class="dd">When processing error records, the origin expects the error file
                                    names and contents as generated by the original pipeline.</dd>

                        
            
                              <dt class="dt dlterm">Log</dt>

                              <dd class="dd">Generates a record for every log line. </dd>

                              <dd class="dd">When a line exceeds the user-defined maximum line length, the
                                    origin truncates longer lines. </dd>

                              <dd class="dd">You can include the processed log line as a field in the record.
                                    If the log line is truncated, and you request the log line in
                                    the record, the origin includes the truncated line.</dd>

                              <dd class="dd">You can define the log format or type to be read.</dd>

                        
            
                              <dt class="dt dlterm">Avro</dt>

                              <dd class="dd">Generates a record for every message. </dd>

                              <dd class="dd">To ensure proper data processing, indicate if the message includes
                                    an Avro schema. </dd>

                              <dd class="dd">You can use the schema associated with the message or provide an
                                    alternate schema definition. Providing an alternate schema can
                                    improve performance.</dd>

                        
            
                              <dt class="dt dlterm">Binary</dt>

                              <dd class="dd">Generates a record with a single byte array field at the root of
                                    the record. </dd>

                              <dd class="dd">When the data exceeds the user-defined maximum data size, the
                                    origin cannot process the data. Because the record is not
                                    created, the origin cannot pass the record to the pipeline to be
                                    written as an error record. Instead, the origin generates a
                                    stage error. </dd>

                        
            
                              <dt class="dt dlterm">Protobuf</dt>

                              <dd class="dd">Generates a record for every protobuf message. By default, the
                                    origin assumes messages contain multiple protobuf messages.</dd>

                              <dd class="dd">Protobuf messages must match the specified message type and be
                                    described in the descriptor file. </dd>

                              <dd class="dd">When the data for a record exceeds 1 MB, the origin cannot
                                    continue processing data in the message. The origin handles the
                                    message based on the stage error handling property and continues
                                    reading the next message.  </dd>

                              <dd class="dd">For information about generating the descriptor file, see <a class="xref" href="../Pipeline_Design/Protobuf-Prerequisites.html" title="Perform the following prerequisites before reading or writing protobuf data.">Protobuf Data Format Prerequisites</a>.</dd>

                        
        </dl>

 </div>

</div>
<div class="topic task nested1" id="task_hrz_mq1_h5">
    <h2 class="title topictitle2">Configuring a RabbitMQ Consumer</h2>

    
    <div class="body taskbody"><p class="shortdesc">Configure a RabbitMQ Consumer to read messages from a RabbitMQ queue. </p>

        <div class="section context">
            <p class="p"></p>

        </div>

        <ol class="ol steps" id="task_hrz_mq1_h5__steps_akg_1yk_k5"><li class="li step stepexpand">
                <span class="ph cmd">In the Properties panel, on the <span class="keyword wintitle">General</span> tab, configure the
                    following properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_hrz_mq1_h5__d4497e333" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="22.22222222222222%" id="d52021e313">General Property</th>

                                    <th class="entry" valign="top" width="77.77777777777779%" id="d52021e316">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="22.22222222222222%" headers="d52021e313 ">Name</td>

                                    <td class="entry" valign="top" width="77.77777777777779%" headers="d52021e316 ">Stage name.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="22.22222222222222%" headers="d52021e313 ">Description</td>

                                    <td class="entry" valign="top" width="77.77777777777779%" headers="d52021e316 ">Optional description.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="22.22222222222222%" headers="d52021e313 ">On Record Error</td>

                                    <td class="entry" valign="top" width="77.77777777777779%" headers="d52021e316 ">Error record handling for the stage: <ul class="ul" id="task_hrz_mq1_h5__d4497e380">
                                            <li class="li">Discard - Discards the record.</li>

                                            <li class="li">Send to Error - Sends the record to the pipeline for
                                                error handling.</li>

                                            <li class="li">Stop Pipeline - Stops the pipeline. </li>

                                        </ul>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">On the <span class="keyword wintitle">RabbitMQ</span> tab, configure the following
                    properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_hrz_mq1_h5__table_pmz_mcj_45" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="30%" id="d52021e388">RabbitMQ Property</th>

                                    <th class="entry" valign="top" width="70%" id="d52021e391">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d52021e388 ">URI</td>

                                    <td class="entry" valign="top" width="70%" headers="d52021e391 "> </td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d52021e388 ">Consumer Tag</td>

                                    <td class="entry" valign="top" width="70%" headers="d52021e391 "> </td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d52021e388 ">RabbitMQ Configuration</td>

                                    <td class="entry" valign="top" width="70%" headers="d52021e391 "> </td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d52021e388 ">Ignore Control Characters</td>

                                    <td class="entry" valign="top" width="70%" headers="d52021e391 "> </td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d52021e388 ">Compression Format</td>

                                    <td class="entry" valign="top" width="70%" headers="d52021e391 "> </td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d52021e388 ">Max Batch Size</td>

                                    <td class="entry" valign="top" width="70%" headers="d52021e391 "> </td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d52021e388 ">Batch Wait Time</td>

                                    <td class="entry" valign="top" width="70%" headers="d52021e391 "> </td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d52021e388 ">Use Credentials</td>

                                    <td class="entry" valign="top" width="70%" headers="d52021e391 "> </td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d52021e388 ">Data Format</td>

                                    <td class="entry" valign="top" width="70%" headers="d52021e391 "> </td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
</ol>

    </div>

</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Origins/Origins_title.html" title="Origins"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Origins</span></a></span>  </div><div class="footer"></div>
</body>
</html>