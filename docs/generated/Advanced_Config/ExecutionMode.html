
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="The Data Collector can run standalone mode or cluster mode. In standalone mode, the Data Collector runs as a single Data Collector process. The Data Collector runs in standalone mode by default. In ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="copyright" content="(C) Copyright 2005"></meta><meta name="DC.rights.owner" content="(C) Copyright 2005"></meta><meta name="DC.Type" content="concept"></meta><meta name="DC.Title" content="Cluster Execution Mode"></meta><meta name="abstract" content="The Data Collector can run standalone mode or cluster mode. In standalone mode, the Data Collector runs as a single Data Collector process. The Data Collector runs in standalone mode by default."></meta><meta name="description" content="The Data Collector can run standalone mode or cluster mode. In standalone mode, the Data Collector runs as a single Data Collector process. The Data Collector runs in standalone mode by default."></meta><meta name="DC.Relation" scheme="URI" content="../Advanced_Config/AdvancedPipelineConfig-title.html"></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="concept_hmh_kfn_1s"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Cluster Execution Mode</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../skin.css"></link><script type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="../Advanced_Config/AdvancedPipelineConfig-title.html" title="Advanced Configuration">Advanced Configuration</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="../Advanced_Config/AdvancedPipelineConfig-title.html" title="Advanced Configuration"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Advanced Configuration</span></a></span>  </div></td></tr></tbody></table>
<div class="nested0" id="concept_hmh_kfn_1s">
 <h1 class="title topictitle1">Cluster Execution Mode</h1>

 
 <div class="body conbody"><p class="shortdesc">The <span class="ph">Data
                  Collector</span> can run standalone mode or cluster mode. In standalone mode, the <span class="ph">Data
                  Collector</span> runs as a
  single <span class="ph">Data
                  Collector</span>
  process. The <span class="ph">Data
                  Collector</span>
  runs in standalone mode by default. </p>

  <p class="p">In cluster mode, the <span class="ph">Data
                  Collector</span> runs as an
   application within Spark Streaming, allowing it to process large volumes of data from a Kafka
   cluster. </p>

  <p class="p">Spark Streaming is an open source cluster-computing application. Within Spark Streaming, the
    <span class="ph">Data
                  Collector</span> spawns a
    <span class="ph">Data
                  Collector</span> worker for
   each partition in the Kafka cluster. So each partition has a <span class="ph">Data
                  Collector</span> worker to
   process data. </p>

  <p class="p">An example architecture might be as follows. Say you want to ingest logs from applications
   servers and perform a computationally expensive transformation. To accomplish this, use a
   standalone <span class="ph">Data
                  Collector</span>
   on each application server to push the log records to Kafka. Then on the Kafka cluster, use the
    <span class="ph">Data
                  Collector</span> in cluster
   mode to perform the expensive transformation.</p>

  <p class="p">Cluster mode is supported on Kafka CDH at this time. </p>

 </div>

<div class="related-links"></div>
<div class="topic concept nested1" id="concept_xxz_nft_ls">
 <h2 class="title topictitle2">Error Handling Limitations</h2>

 <div class="body conbody">
  <div class="p">At this
      time, please note the following limitations to pipeline configuration options: <ul class="ul" id="concept_xxz_nft_ls__ul_vf1_zft_ls">
        <li class="li">Memory Limit Exceeded - Use the log or log and alert options. Stopping the pipeline is
          not supported at this time. </li>

        <li class="li">Error Records - Use the discard error records option. Stopping the pipeline or writing
          records to file or Kafka are not supported at this time. </li>

      </ul>
</div>

 </div>

</div>
<div class="topic concept nested1" id="concept_fk4_gd4_1s">
 <h2 class="title topictitle2">Monitoring a Cluster</h2>

 <div class="body conbody">
  <p class="p">After you start a pipeline,
   the <span class="ph">Data
                  Collector</span> console
   displays basic monitoring information for the cluster and a list of <span class="ph">Data
                  Collector</span> workers in the
   cluster. To monitor a <span class="ph">Data
                  Collector</span> worker, select
   the worker from the list. </p>

 </div>

</div>
<div class="topic task nested1" id="task_gmd_msw_yr">
    <h2 class="title topictitle2">Cluster Mode Configuration</h2>

    <div class="body taskbody">
        <div class="section context">
            <div class="p">To run the <span class="ph">Data
                  Collector</span> in cluster mode, perform the following steps:<ol class="ol" id="task_gmd_msw_yr__ol_e32_llw_yr">
                    <li class="li">Install Kafka, Spark Streaming, and YARN from the Cloudera
                            CDH.</li>

                    <li class="li">Install the <span class="ph">Data
                  Collector</span> on a Spark on YARN gateway node.</li>

                    <li class="li">In the <span class="ph">Data
                  Collector</span> properties file, set the <span class="ph uicontrol">sdc.execution.mode</span>
                        property to <span class="ph uicontrol">Cluster</span>.</li>

                    <li class="li">In the pipeline properties, on the <span class="keyword wintitle">General</span> tab, set the
                            <span class="ph uicontrol">Execution Mode</span> property to
                            <span class="ph uicontrol">Cluster</span>.</li>

                    <li class="li">In the pipeline, use a Kafka Consumer origin for cluster mode. <p class="p">If you
                            have more than one Kafka stage library installed, make sure you have the
                            cluster mode stage library selected on the General tab of the
                            origin.</p>
</li>

                </ol>
<div class="note note"><span class="notetitle">Note:</span> When you add a partition to the Kafka topic, restart the pipeline to
                    enable the <span class="ph">Data
                  Collector</span> to generate a new worker to read from the new partition. </div>
</div>

        </div>

    </div>

    <div class="related-links"><div class="relinfo"><strong>Related information</strong><br></br>
<div class="related_link"><a class="navheader_parent_path" href="../Install_Config/DCConfig.html#concept_pq5_xjq_kr" title="You can edit the Data Collector configuration file, sdc.properties, to configure properties such as the host name and port number, the HTTP protocol, and account information for email alerts.">Data Collector Configuration</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../Pipeline_Configuration/ConfiguringAPipeline.html#task_xlv_jdw_kq" title="Configure a pipeline to define the stream of data. After you configure the pipeline, you can start the pipeline.">Configuring a Pipeline</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../Origins/KConsumer.html#concept_msz_wnr_5q" title="The Kafka Consumer origin reads data from an Apache Kafka cluster and processes the data based on the type of data stored in the cluster. You can use the Kafka Consumer to read text, delimited, JSON, XML, and log data from a Kafka cluster. You can also use the Kafka Consumer to read files generated by other Data Collector pipelines.">Kafka Consumer</a></div>
</div>
</div>
</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Advanced_Config/AdvancedPipelineConfig-title.html" title="Advanced Configuration"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Advanced Configuration</span></a></span>  </div><div class="footer"><div> </div><!-- Â© <a href="http://creativecommons.org/licenses/by-nc/4.0/legalcode">CC BY-NC 4.0.</a> StreamSets, 2015. --></div>
</body>
</html>