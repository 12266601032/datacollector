
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="The basic tutorial creates a pipeline that reads a file from a directory, processes the data in two branches, and writes all data to a file system. You'll use data preview to help configure the ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="copyright" content="(C) Copyright 2005"></meta><meta name="DC.rights.owner" content="(C) Copyright 2005"></meta><meta name="DC.Type" content="concept"></meta><meta name="DC.Title" content="Basic Tutorial"></meta><meta name="abstract" content="The basic tutorial creates a pipeline that reads a file from a directory, processes the data in two branches, and writes all data to a file system. You'll use data preview to help configure the pipeline, and you'll create a data alert and run the pipeline."></meta><meta name="description" content="The basic tutorial creates a pipeline that reads a file from a directory, processes the data in two branches, and writes all data to a file system. You'll use data preview to help configure the pipeline, and you'll create a data alert and run the pipeline."></meta><meta name="DC.Relation" scheme="URI" content="../Tutorial/Tutorial-title.html"></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="concept_phf_cjt_ls"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Basic Tutorial</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../skin.css"></link><script type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="../Tutorial/Tutorial-title.html" title="Data Collector Tutorial">Data Collector Tutorial</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="../Tutorial/Tutorial-title.html" title="Data Collector Tutorial"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Data Collector Tutorial</span></a></span>  </div></td></tr></tbody></table>
<div class="nested0" id="concept_phf_cjt_ls">
 <h1 class="title topictitle1">Basic Tutorial</h1>

 
 <div class="body conbody"><p class="shortdesc">The basic tutorial creates a pipeline that reads a file from a directory, processes the
  data in two branches, and writes all data to a file system. You'll use data preview to help
  configure the pipeline, and you'll create a data alert and run the pipeline. </p>

  <div class="p">Here are high level steps for
   building and running the basic pipeline:<ol class="ol" id="concept_phf_cjt_ls__ol_emy_rhp_ms">
    <li class="li">Configure pipeline properties, primarily error handling.</li>

    <li class="li">Add a Directory origin to represent the data to be processed. </li>

    <li class="li">Preview source data to determine the field-level details needed for the pipeline.</li>

    <li class="li">Use a Stream Selector to route credit card transactions to the primary branch and cash
     transactions to the secondary branch. We'll define a required field to discard records without
     a payment type.</li>

    <li class="li">Configure a Jython Evaluator to perform custom processing that determines the credit card
     type based on the credit card number. </li>

    <li class="li">Add a Field Masker to mask credit card numbers. Use a required field to discard records
     without credit card numbers.</li>

    <li class="li">In the secondary branch, use an Expression Evaluator to add fields to the cash records to
     match the credit card records. Use data preview to verify the fields to add. </li>

    <li class="li">Connect both branches to a Hadoop FS destination.</li>

    <li class="li">Add a data rule to raise an alert if too many credit card payments are missing credit card
     numbers.</li>

    <li class="li">Start the pipeline and monitor the results.</li>

   </ol>
</div>

  
 </div>

<div class="related-links"></div>
<div class="topic task nested1" id="task_jmz_3dn_ls">
    <h2 class="title topictitle2">Creating a Pipeline and Defining Pipeline Properties</h2>

    
    <div class="body taskbody"><p class="shortdesc">When you configure a pipeline, you need to decide what to do with error records. You
        can discard them or - more productively - write them to file, another pipeline, or to Kafka. </p>

        <div class="section context">
            <p class="p">Write error records to one of these locations as a convenient way to deal with error
                records without having to stop the pipeline. Allowing you to keep your operations
                running. </p>

            <p class="p">This tutorial writes the records to a local file, but if you prefer to write error
                records to Kafka, feel free. </p>

        </div>

        <ol class="ol steps" id="task_jmz_3dn_ls__steps_hsz_b2n_ls"><li class="li step stepexpand">
                <span class="ph cmd">If you aren't already, log in to the <span class="ph">Data
                  Collector</span>. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">From the <span class="keyword wintitle">Home</span> page or <span class="keyword wintitle">Getting Started</span>
                    page, click <span class="ph uicontrol">Create New Pipeline</span>. </span>
                <div class="itemgroup info">If you are working on another pipeline in the <span class="ph">Data
                  Collector</span> console, use the <span class="ph uicontrol">Toggle Library Pane</span> icon to display
                    the pipeline library: <img class="image" id="task_jmz_3dn_ls__image_mtm_rc3_dt" src="../Graphics/icon_OverLibraryToggle.png" height="16" width="16"></img> . Then click the <span class="ph uicontrol">Create New
                        Pipeline</span> icon.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the <span class="keyword wintitle">New Pipeline</span> window, enter a pipeline name and
                    optional description, and click <span class="ph uicontrol">Save</span>.</span>
                <div class="itemgroup info">An empty canvas displays:<p class="p"><img class="image" id="task_jmz_3dn_ls__image_jnr_wtk_5s" src="../Graphics/Tutorial-Canvas.png" height="462" width="780"></img></p>
</div>
                <div class="itemgroup info">Note a few helpful areas: 
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_jmz_3dn_ls__table_ezq_5ys_lt" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="11.11111111111111%" id="d61433e160">Area</th>

                                    <th class="entry" valign="top" width="88.88888888888889%" id="d61433e163">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="11.11111111111111%" headers="d61433e160 ">1</td>

                                    <td class="entry" valign="top" width="88.88888888888889%" headers="d61433e163 ">The Pipeline Creation Help Bar indicates that the origin
                                        is missing and offers a list of origins to choose from.
                                            <p class="p">If the Pipeline Creation Help Bar does not display,
                                            you might have disabled it. To enable it, in the top
                                            right corner of the <span class="ph">Data
                  Collector</span> window, click the <span class="ph menucascade"><span class="ph uicontrol">Help</span> &gt; <span class="ph uicontrol">Settings</span></span>. Clear the <span class="ph uicontrol">Hide Pipeline
                                                Creation Help Bar</span> option.</p>
</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="11.11111111111111%" headers="d61433e160 ">2</td>

                                    <td class="entry" valign="top" width="88.88888888888889%" headers="d61433e163 ">Issues icon. Click to display the list of pipeline issues
                                        found by implicit validation.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="11.11111111111111%" headers="d61433e160 ">3</td>

                                    <td class="entry" valign="top" width="88.88888888888889%" headers="d61433e163 ">Stage library. Displays a list of available origins by
                                        default.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="11.11111111111111%" headers="d61433e160 ">4</td>

                                    <td class="entry" valign="top" width="88.88888888888889%" headers="d61433e163 ">Drop-down menu to change the stages that display in the
                                        stage library.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="11.11111111111111%" headers="d61433e160 "><img class="image" id="task_jmz_3dn_ls__image_ryw_gzs_lt" src="../Graphics/icon_ConfigStageLibrary.png" height="19" width="22"></img></td>

                                    <td class="entry" valign="top" width="88.88888888888889%" headers="d61433e163 ">Toggle Library Pane icon. Use to show and hide the stage
                                        library.</td>

                                </tr>

                            </tbody>

                        </table>
</div>
</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the Properties panel, click the <span class="keyword wintitle">Error Records</span> tab. And
                    for the <span class="ph uicontrol">Error Records</span> property, select <span class="ph uicontrol">Write
                        to File</span>.</span>
                <div class="itemgroup info">This writes error records to a file so you can deal with error records without
                    having to stop the pipeline.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click the <span class="keyword wintitle">Error Records - Write to File</span> tab and configure
                    the following properties.</span>
                <div class="itemgroup info">
                    <p class="p">Use the defaults for properties that aren't listed:</p>

                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_jmz_3dn_ls__table_zvy_kfn_ls" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="27.47252747252747%" id="d61433e279">Write to File Property</th>

                                    <th class="entry" valign="top" width="72.52747252747253%" id="d61433e282">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="27.47252747252747%" headers="d61433e279 ">Directory</td>

                                    <td class="entry" valign="top" width="72.52747252747253%" headers="d61433e282 ">Directory for error record files. Enter the directory
                                        that you set up for the tutorial.<div class="note note"><span class="notetitle">Note:</span> To prevent validation
                                            errors, the directory must already exist.</div>
</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="27.47252747252747%" headers="d61433e279 ">Files Prefix</td>

                                    <td class="entry" valign="top" width="72.52747252747253%" headers="d61433e282 ">This defines a prefix for error record files. <p class="p">By default, the files are prefixed with "SDC" and an expression that
                  returns the <span class="ph">Data
                  Collector</span> ID, but that's more than
                  we need here. </p>
<p class="p">Delete the default and enter "err_".</p>
</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="27.47252747252747%" headers="d61433e279 ">Max File Size</td>

                                    <td class="entry" valign="top" width="72.52747252747253%" headers="d61433e282 ">Let's reduce the files size to something more manageable,
                                        such as 5 or 1 MB.</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
</ol>

        <div class="section result">
            <p class="p">Now we'll start building the pipeline...</p>

        </div>

    </div>

</div>
<div class="topic task nested1" id="task_ftt_2vq_ks">
    <h2 class="title topictitle2">Configure the Origin</h2>

    
    <div class="body taskbody"><p class="shortdesc">The origin represents the source data for the pipeline. When you configure the
        origin, you define how to connect to the origin system, the type of data to be processed,
        and other origin-specific properties. </p>

        <div class="section context">The <span class="ph">Data
                  Collector</span>
            provides a wide range of origins, but for the sake of this tutorial we will use the
            Directory origin to process the static CSV sample file that you downloaded. </div>

        <ol class="ol steps" id="task_ftt_2vq_ks__steps_ckz_gvq_ks"><li class="li step stepexpand">
                <span class="ph cmd">To add the stage to the canvas, from the Pipeline Creation Help Bar, click <span class="ph menucascade"><span class="ph uicontrol">Select Origin</span> &gt; <span class="ph uicontrol">Directory</span></span>. Or, in the stage library, click the
                        <span class="ph uicontrol">Directory</span> origin: <img class="image" id="task_ftt_2vq_ks__image_cwb_2vt_lt" src="../Graphics/Tutorial_DirectoryIcon.png" height="13" width="17"></img>.</span>
                <div class="itemgroup info">The origin displays in the canvas and the Properties panel displays the stage
                    properties. </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the Properties panel, click the <span class="keyword wintitle">Files</span> tab and configure
                    the following properties. </span>
                <div class="itemgroup info">
                    <p class="p">Use the defaults for properties that aren't listed:</p>

                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_ftt_2vq_ks__table_w5c_jyq_ks" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="35.97122302158273%" id="d61433e407">Directory Property</th>

                                    <th class="entry" valign="top" width="64.02877697841726%" id="d61433e410">Value</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="35.97122302158273%" headers="d61433e407 ">Data Format</td>

                                    <td class="entry" valign="top" width="64.02877697841726%" headers="d61433e410 ">Delimited.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="35.97122302158273%" headers="d61433e407 ">Files Directory</td>

                                    <td class="entry" valign="top" width="64.02877697841726%" headers="d61433e410 ">Directory where you saved the source file. <p class="p">For
                                            example: <samp class="ph codeph">/myFiles/Tutorial</samp>.</p>
</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="35.97122302158273%" headers="d61433e407 ">File Name Pattern</td>

                                    <td class="entry" valign="top" width="64.02877697841726%" headers="d61433e410 ">The Directory origin processes only the files in the
                                        directory that match the file name pattern. <p class="p">The tutorial
                                            sample file name is <samp class="ph codeph">nyc_taxi_data.csv</samp>.
                                            If the file is the only file in the directory, you can
                                            use the asterisk wild card (*) or something similarly
                                            generic, like *.csv.</p>
<p class="p">If you had other .csv files
                                            in the directory that you don't want to process, you
                                            might be more specific, like this:
                                                <samp class="ph codeph">nyc_taxi*.csv</samp>. </p>
<p class="p">Or if you
                                            want to process files with prefixes for  other cities,
                                            you might use <samp class="ph codeph">*taxi*.csv</samp>.</p>
</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="35.97122302158273%" headers="d61433e407 ">First File to Process</td>

                                    <td class="entry" valign="top" width="64.02877697841726%" headers="d61433e410 ">When processing a set of files with the same file name
                                        pattern, Directory normally starts with the first file and
                                        continues in lexicographically ascending order, e.g.
                                        nyc_taxi_data.csv, then nyc_taxi_data2.csv, etc. <p class="p">If you
                                            wanted to skip some files, you would enter the file to
                                            start with. In this case, we're processing a single
                                            file, so let's leave this empty. </p>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">For delimited data, additional properties are available, so click the
                        <span class="keyword wintitle">Delimited</span> tab and configure the following
                    properties.</span>
                <div class="itemgroup info">
                    <p class="p">Use the defaults for properties that aren't listed:</p>

                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_ftt_2vq_ks__table_hnn_d15_lt" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="30%" id="d61433e505">Delimited Property</th>

                                    <th class="entry" valign="top" width="70%" id="d61433e508">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d61433e505 ">File Type</td>

                                    <td class="entry" valign="top" width="70%" headers="d61433e508 ">The sample file is a standard CSV file, so use the
                                        default, <span class="ph uicontrol">Default CSV</span>.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d61433e505 ">Header Line</td>

                                    <td class="entry" valign="top" width="70%" headers="d61433e508 ">The sample file includes a header, so select
                                            <span class="ph uicontrol">With Header Line</span>.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d61433e505 ">Record Type</td>

                                    <td class="entry" valign="top" width="70%" headers="d61433e508 ">Determines how the <span class="ph">Data
                  Collector</span> processes delimited data. Use the default
                                            <span class="ph uicontrol">List-Map</span>. <p class="p">This allows you to
                                            use standard functions to process delimited data. Using
                                            the List option requires using delimited data
                                            functions.</p>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
</ol>

        <div class="section result">This is how the stage and pipeline should look at this point:<p class="p"><img class="image" id="task_ftt_2vq_ks__image_kj1_c5f_4s" src="../Graphics/Tutorial-Directory.png" height="339" width="724"></img></p>
<p class="p">Notice the error icons on the page. If you click the Issues icon or hover
                over the Directory error icon, you'll see a message that the origin isn't connected
                to anything yet. We'll take care of that next.</p>
</div>

    </div>

</div>
<div class="topic task nested1" id="task_xb5_2sf_4s">
    <h2 class="title topictitle2">Preview Data </h2>

    
    <div class="body taskbody"><p class="shortdesc">Let's preview the source data to become more familiar with the data set and gather
        some important details. </p>

        <div class="section context">
            <div class="p"> This is the information that we'll need to configure the pipeline: <ul class="ul" id="task_xb5_2sf_4s__ul_a41_hvh_4s">
                    <li class="li">The field that contains payment information - We'll use this to route data
                        in the Stream Selector. </li>

                    <li class="li">The field that contains credit card numbers - We'll use this to mask the
                        data in the Field Masker.</li>

                </ul>
</div>

            <p class="p">When you access data in a field, you specify the field path for the field. The field
                path depends on the complexity of the record: <samp class="ph codeph">/&lt;fieldname&gt;</samp> for
                simple records and <samp class="ph codeph">&lt;path to field&gt;/&lt;fieldname&gt;</samp> for more
                complex records.  </p>

            <p class="p">When you import Delimited data as List-Map, you can use
                    <samp class="ph codeph">/&lt;fieldname&gt;</samp>. </p>

            <p class="p">To start data preview, all stages must be connected and all required fields filled
                (though not necessarily correctly). Since the origin is configured and the only
                stage, the pipeline should be ready to preview as is. </p>

        </div>

        <ol class="ol steps" id="task_xb5_2sf_4s__steps_jxv_fpf_4s"><li class="li step stepexpand">
                <span class="ph cmd">Above the pipeline canvas, click the <span class="ph uicontrol">Preview</span> icon:
                        <img class="image" id="task_xb5_2sf_4s__image_x4k_njp_rs" src="../Graphics/icon_Preview.png" height="13" width="17"></img>.</span>
                <div class="itemgroup info">If the icon is not enabled, make sure you completed all the previous steps for
                    the tutorial. If more than one issue displays in the list, correct any issue
                    except Validation_0011 for the unconnected Directory stage. </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the <span class="keyword wintitle">Preview Configuration</span> dialog box, configure the
                    following properties. </span>
                <div class="itemgroup info">
                    <p class="p">Use the defaults for properties that aren't listed:</p>

                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_xb5_2sf_4s__table_z2x_325_lt" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="30%" id="d61433e656">Data Preview Property</th>

                                    <th class="entry" valign="top" width="70%" id="d61433e659">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d61433e656 ">Preview Source</td>

                                    <td class="entry" valign="top" width="70%" headers="d61433e659 ">Use the default <span class="ph uicontrol">Configured Source</span>
                                        to use the sample source data.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d61433e656 ">Write to Destinations</td>

                                    <td class="entry" valign="top" width="70%" headers="d61433e659 ">Make sure this checkbox is cleared. In general, you 'll
                                        want to clear this property to avoid writing data to
                                        destination systems.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d61433e656 ">Show Field Type</td>

                                    <td class="entry" valign="top" width="70%" headers="d61433e659 ">Select this so you can see the data type of fields in the
                                        record. </td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d61433e656 ">Remember the Configuration</td>

                                    <td class="entry" valign="top" width="70%" headers="d61433e659 ">Select to use these properties each time you run data
                                        preview. <p class="p">When you select this option, the console enters
                                            data preview without showing this dialog box again. To
                                            change data preview options, click the Preview
                                            Configuration icon in the properties panel. </p>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph uicontrol">Run Preview</span>.</span>
                <div class="itemgroup stepresult">The Preview Panel displays a list of 10 output records for Directory in
                    list view. If you drill down a bit, you see that the each record displays an
                    ordered list of field names and values with the data type of each field.
                        <p class="p">Because the data is read from a file, all fields are strings.</p>
<p class="p">Note
                        that in the Preview panel, the preview records display on the
                            <span class="keyword wintitle">Records</span> tab. You can click the <span class="keyword wintitle">Client
                            Configuration </span>tab to review or change properties. You can
                        click the <span class="keyword wintitle">Preview Configuration</span> tab to change preview
                        properties.</p>
</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">For a full view of the data, click the <span class="ph uicontrol">Table View</span> icon:
                        <img class="image" id="task_xb5_2sf_4s__image_zxq_1zf_4s" src="../Graphics/icon_PrevTableView.png" height="12" width="16"></img>.</span>
                <div class="itemgroup info">The Preview panel displays the first several columns of data. <p class="p"><img class="image" id="task_xb5_2sf_4s__image_d1m_yzf_4s" src="../Graphics/Tutorial-PreviewDirectory.png" height="338" width="695"></img></p>
</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To view all columns, click <span class="ph uicontrol">Show All</span>.</span>
                <div class="itemgroup info">If you scroll to the right, you can verify that the credit_card field contains
                    credit card numbers for the first three records. When you scroll back to the
                    left, notice this corresponds to "CRD" in the payment_type field. </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Now that we have the information that we need, click the <span class="ph uicontrol">Close
                        Preview</span> icon: <img class="image" id="task_xb5_2sf_4s__image_zs2_2bg_4s" src="../Graphics/icon_PrevClose.png" height="13" width="16"></img>.</span>
            </li>
</ol>

        <div class="section result">Now we know the following: <ul class="ul" id="task_xb5_2sf_4s__ul_glg_yj1_mt">
                <li class="li">Payment type information is in the payment_type field.</li>

                <li class="li">Credit card information is in the credit_card field.</li>

                <li class="li">To use these fields in expressions, we'll use their field paths: /payment_type
                    and /credit_card. </li>

                <li class="li">To route records paid by credit card, we'll look for records where the
                    /payment_type = "CRD". </li>

            </ul>
</div>

    </div>

</div>
<div class="topic task nested1" id="task_br5_rzq_ks">
    <h2 class="title topictitle2">Route Data with the Stream Selector</h2>

    
    <div class="body taskbody"><p class="shortdesc">To route credit card transactions to a separate branch for processing, we'll use the
        Stream Selector processor.</p>

        <div class="section context"><p class="p">The Stream Selector routes data to different streams based on user-defined
                conditions. Any data not captured by a user-defined condition routes to the default
                stream.</p>
<p class="p">We'll also define a required field to drop records with no payment
                type. When you defined a required field, a record must include data for the
                specified field to enter the stage. Records that don't meet the requirement are sent
                to the pipeline for error handling. If you configured the pipeline to write to file,
                that's where error records will go. </p>
To represent data in a field, we use the
                <samp class="ph codeph">record:value</samp> function. This returns field values associated with
            the field.<div class="p">To capture records with credit card payments, use the following condition:
                <pre class="pre codeblock">${record:value('/payment_type') == 'CRD'}</pre>
</div>
<p class="p">From this,
                you see that we enclose expressions in a dollar sign and curly brackets. You can use
                single or double quotation marks around strings. For more information about the
                expression language, see <a class="xref" href="../Expression_Language/ExpressionLanguage_overview.html#concept_p54_4kl_vq">Expression Language</a>.</p>
</div>

        <ol class="ol steps" id="task_br5_rzq_ks__steps_xhx_3rk_ls"><li class="li step stepexpand">
                <span class="ph cmd">From the Pipeline Creation Help Bar, click <span class="ph menucascade"><span class="ph uicontrol">Select Processor to Connect</span> &gt; <span class="ph uicontrol">Stream Selector</span></span>. Or, in the stage library, select the <span class="ph uicontrol">Stream
                        Selector</span> processor (<img class="image" id="task_br5_rzq_ks__image_rt1_3m1_mt" src="../Graphics/Tutorial_SSelector_icon.png" height="20" width="20"></img>) and connect the Directory origin to it. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">On the <span class="keyword wintitle">General</span> tab, click in the <span class="ph uicontrol">Required
                        Fields</span> text box. </span>
                <div class="itemgroup info">A list of available fields displays because you've already performed data
                    preview. It also displays when the pipeline is valid for data preview. </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To discard records with no payment type information, select the following
                    field: <span class="ph uicontrol">/payment_type</span>.</span>
                <div class="itemgroup info">If a list does not appear, you can manually enter the field path:
                    /payment_type.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To configure the Stream Selector condition, click the
                        <span class="ph uicontrol">Conditions</span> tab.</span>
                <div class="itemgroup info">A condition for the default stream displays. The default stream represents any
                    records not captured by other conditions.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click the <span class="ph uicontrol">Add</span> icon.</span>
                <div class="itemgroup info">A condition text box displays in the Property panel, and the corresponding
                    output location appears on the stage in the canvas.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">The following condition captures records where a credit card is used for
                    payment. You can copy and paste the expression, but try typing it in to see how
                    the expression completion feature helps you select the function and ensure valid
                    syntax.</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock">${record:value('/payment_type') == 'CRD'}</pre>

                </div>
                <div class="itemgroup info">All records that match this condition pass to the first output stream. All
                    other records are captured by the default condition and passed through the
                    second output stream.</div>
            </li>
</ol>

        <div class="section result">The Stream Selector should look like this:<p class="p"><img class="image" id="task_br5_rzq_ks__image_t1s_png_4s" src="../Graphics/Tutorial-StreamSelector.png" height="262" width="672"></img></p>
</div>

    </div>

</div>
<div class="topic task nested1" id="task_cdx_kfm_ls">
    <h2 class="title topictitle2">Use Jython for Card Typing</h2>

    
    <div class="body taskbody"><p class="shortdesc"> Next, we'll evaluate credit card numbers to determine the credit card type. You can
        use an Expression Evaluator to do the same calculations, but with a short script, the Jython
        Evaluator is easier.</p>

        <div class="section context">
            <p class="p">The <span class="ph">Data
                  Collector</span> provides the JavaScript Evaluator and the Jython Evaluator so you can use custom
                scripts to perform processing that is not easily performed using other <span class="ph">Data
                  Collector</span> processors.</p>

            <p class="p">The Jython script that we'll use creates an additional field, credit_card_type, and
                generates the credit card type based on the first few digits of the credit card
                number. The script returns an error message if the record has a credit card payment
                type without a corresponding credit card number. </p>

        </div>

        <ol class="ol steps" id="task_cdx_kfm_ls__steps_lnv_lfm_ls"><li class="li step stepexpand">
                <span class="ph cmd">Add a <span class="ph uicontrol">Jython Evaluator</span> processor to the canvas and
                    connect the first output location of the Stream Selector to it.</span>
                <div class="itemgroup info">This routes records paid by credit card to the Jython Evaluator. </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">With the Jython Evaluator selected, in the Properties panel, click the
                        <span class="keyword wintitle">Jython</span> tab. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Use the default <span class="ph uicontrol">Batch by Batch</span> record processing mode to
                    process data in batches, instead of record by record. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the <span class="ph uicontrol">Script</span> text box, review the information in the
                    comments, then delete it. Paste in the following script: </span>
                <div class="itemgroup info">
                    <pre class="pre codeblock">try: 
  for record in records:
    cc = record.value[20]['value']
    if cc == '':
      err.write(record, "Payment type was CRD, but credit card was null")
      continue

    cc_type = ''
    if cc.startswith('4'):
      cc_type = 'Visa'
    elif cc.startswith(('51','52','53','54','55')):
      cc_type = 'MasterCard'
    elif cc.startswith(('34','37')):
      cc_type = 'AMEX'
    elif cc.startswith(('300','301','302','303','304','305','36','38')):
      cc_type = 'Diners Club'
    elif cc.startswith(('6011','65')):
      cc_type = 'Discover'
    elif cc.startswith(('2131','1800','35')):
      cc_type = 'JCB'
    else:
      cc_type = 'Other'

    record.value.append({'header':'credit_card_type','value':cc_type})
    out.write(record)
except Exception as e:
  err.write(record, e.message)</pre>

                    <div class="note note"><span class="notetitle">Note:</span> Incorrect indentation can cause Jython validation errors. For best
                        results, copy the script from the online help. Copying the script from the
                        PDF can result in incorrect indentation.<p class="p">To launch context-sensitive help,
                            click the <span class="ph uicontrol">Help</span> icon in the Properties panel.
                            Then in the table of contents, scroll down to find the Data Collector
                            Tutorial chapter &gt; Basic Tutorial &gt; Use Jython for Card Typing.
                        </p>
</div>

                </div>
            </li>
</ol>

        <div class="section result">In the Jython Evaluator, the script should look like this:<p class="p"><img class="image" id="task_cdx_kfm_ls__image_jt1_4ch_4s" src="../Graphics/Tutorial-Jython.png" height="468" width="531"></img></p>
</div>

    </div>

</div>
<div class="topic task nested1" id="task_qbw_d3m_ls">
    <h2 class="title topictitle2">Mask Credit Card Numbers</h2>

    
    <div class="body taskbody"><p class="shortdesc">Now we've evaluated the credit card type, let's use a Field Masker to mask the credit
        card numbers. </p>

        <div class="section context">
            <p class="p">The Field Masker provides fixed and variable-length masks to mask all data. To reveal
                specified positions in the data, you can create a custom mask. To reveal a group of
                positions within the data, you can use a regular expression mask to define the
                structure of the data and then reveal one or more groups.</p>

            <div class="p">For the credit card numbers, we'll use the following regular expression to mask all
                but the last four digits:<pre class="pre codeblock">(.*)([0-9]{4})</pre>
</div>

            <p class="p">The regular expression defines two groups so we can reveal the second group.</p>

        </div>

        <ol class="ol steps" id="task_qbw_d3m_ls__steps_wwy_fjm_ls"><li class="li step stepexpand">
                <span class="ph cmd">Add a <span class="ph uicontrol">Field Masker</span> processor to the canvas and connect
                    the Jython Evaluator to it. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the Properties panel, click the <span class="keyword wintitle">Mask</span> tab.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click in the <span class="ph uicontrol">Fields to Mask</span> field. Scroll down the list
                    of fields and select the field that represents credit card data:
                        <span class="ph uicontrol">/credit_card</span>. </span>
                <div class="itemgroup info">A list of fields displays when the pipeline is valid for data preview. If the
                    list does not display, you can enter the field path manually.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To use a regular expression as a mask and display the last 4 digits of the
                    credit card number, configure the rest of the properties as follows:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_qbw_d3m_ls__table_ejl_msm_ls" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="28.49002849002849%" id="d61433e1097">Field Masker Property</th>

                                    <th class="entry" valign="top" width="71.5099715099715%" id="d61433e1100">Configuration</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="28.49002849002849%" headers="d61433e1097 ">Mask Type</td>

                                    <td class="entry" valign="top" width="71.5099715099715%" headers="d61433e1100 ">Regular Expression</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="28.49002849002849%" headers="d61433e1097 ">Regular Expression</td>

                                    <td class="entry" valign="top" width="71.5099715099715%" headers="d61433e1100 ">
                                        <samp class="ph codeph">(.*)([0-9]{4})</samp></td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="28.49002849002849%" headers="d61433e1097 ">Groups to Show</td>

                                    <td class="entry" valign="top" width="71.5099715099715%" headers="d61433e1100 ">2</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
</ol>

        <div class="section result">Here's how the Field Masker should look in the pipeline:<p class="p"><img class="image" id="task_qbw_d3m_ls__image_v1y_35q_ps" src="../Graphics/Tutorial-FieldMasker.png" height="362" width="625"></img></p>
</div>

    </div>

</div>
<div class="topic task nested1" id="task_wsj_5tm_ls">
    <h2 class="title topictitle2">Write to the Destination</h2>

    
    <div class="body taskbody"><p class="shortdesc">StreamSets lets you write data to many destinations. The Hadoop FS destination writes
        to HDFS or a local directory. For the tutorial, we'll write to a local
        directory.</p>

        <div class="section context">
            <p class="p">When you configure the Hadoop FS destination, you define the directory template. This
                determines the naming convention for the output directories that are created. </p>

        </div>

        <ol class="ol steps" id="task_wsj_5tm_ls__steps_xdd_wwm_ls"><li class="li step stepexpand">
                <span class="ph cmd">Add a <span class="ph uicontrol">Hadoop FS</span> destination to the canvas and connect
                    the Field Masker to it.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the Properties panel, click the <span class="keyword wintitle">Hadoop FS</span> tab. To use
                    Hadoop FS to write to a local file system, configure the following properties. </span>
                <div class="itemgroup info">
                    <p class="p">Use the defaults for properties that aren't listed:</p>

                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_wsj_5tm_ls__table_tlp_hvj_5s" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="27.47252747252747%" id="d61433e1204">Hadoop FS Property</th>

                                    <th class="entry" valign="top" width="72.52747252747253%" id="d61433e1207">Configuration</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="27.47252747252747%" headers="d61433e1204 ">Hadoop FS URI</td>

                                    <td class="entry" valign="top" width="72.52747252747253%" headers="d61433e1207 ">file:///</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click the <span class="keyword wintitle">Output Files</span> tab and configure the following
                    properties. </span>
                <div class="itemgroup info">
                    <p class="p">Use the defaults for properties that aren't listed:</p>

                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_wsj_5tm_ls__table_kcy_5bn_ls" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="29.49852507374631%" id="d61433e1253">Hadoop FS Property</th>

                                    <th class="entry" valign="top" width="70.50147492625369%" id="d61433e1256">Configuration</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="29.49852507374631%" headers="d61433e1253 ">Data Format</td>

                                    <td class="entry" valign="top" width="70.50147492625369%" headers="d61433e1256 ">Delimited</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="29.49852507374631%" headers="d61433e1253 ">Files Prefix</td>

                                    <td class="entry" valign="top" width="70.50147492625369%" headers="d61433e1256 ">Defines a prefix for output files. <p class="p">By default, the files are prefixed with "SDC" and an expression that
                  returns the <span class="ph">Data
                  Collector</span> ID, but that's more than
                  we need here. </p>
Let's simplify and use "out_" instead.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="29.49852507374631%" headers="d61433e1253 ">Directory Template</td>

                                    <td class="entry" valign="top" width="70.50147492625369%" headers="d61433e1256 ">Enter the directory where you want the files to be
                                        written and optionally include datetime variables to
                                        indicate the frequency at which the files should be rolled
                                        over. <p class="p">For example the following directory rolls the
                                            output file once a month, which works fine for this
                                            tutorial: <samp class="ph codeph">&lt;output
                                                directory&gt;/${YYYY()}-${MM()}</samp>.</p>
</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="29.49852507374631%" headers="d61433e1253 ">Max File Size (MB)</td>

                                    <td class="entry" valign="top" width="70.50147492625369%" headers="d61433e1256 ">For the tutorial, let's lower the file size to something
                                        manageable, like 5 or 1.</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click the <span class="keyword wintitle">Delimited</span> tab and configure the following
                    property. </span>
                <div class="itemgroup info">
                    <p class="p">Use the defaults for properties that aren't listed:</p>

                    <table cellpadding="4" cellspacing="0" summary="" id="task_wsj_5tm_ls__simpletable_jyj_2vq_ps" border="1" class="simpletable"><tr class="sthead">
                            <th valign="bottom" align="left" id="d61433e1332" class="stentry">Delimited Property</th>

                            <th valign="bottom" align="left" id="d61433e1335" class="stentry">Configuration</th>

                        </tr>
<tr class="strow">
                            <td valign="top" headers="d61433e1332" class="stentry">Header Line</td>

                            <td valign="top" headers="d61433e1335" class="stentry">With Header Line</td>

                        </tr>
</table>

                </div>
            </li>
</ol>

        <div class="section result">This completes the primary branch:<p class="p"><img class="image" id="task_wsj_5tm_ls__image_svj_rvq_ps" src="../Graphics/Tutorial-HDFS.png" height="87" width="684"></img></p>
<p class="p"> Now, let's go back to the Stream
                Selector and complete the secondary branch.</p>
</div>

    </div>

</div>
<div class="topic task nested1" id="task_wgb_t4p_ms">
    <h2 class="title topictitle2">Add Corresponding Fields with the Expression Evaluator</h2>

    
    <div class="body taskbody"><p class="shortdesc">The Jython Evaluator script added new fields to the credit payments branch. To ensure
        all records have the same structure, we'll use the Expression Evaluator to add the same
        fields to the non-credit payment branch. </p>

        <div class="section context">
            <p class="p">This ensures that all records have the same format when written to the
                destination.</p>

            <p class="p">To do this, let's use data preview to verify how the Jython Evaluator adds the credit
                card type to records.</p>

        </div>

        <ol class="ol steps" id="task_wgb_t4p_ms__steps_mr4_2pp_ms"><li class="li step stepexpand">
                <span class="ph cmd">Click the <span class="ph uicontrol">Preview</span> icon. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the pipeline, click the <span class="ph uicontrol">Jython Evaluator</span> to view the
                    output of that processor.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Expand the first output record, scroll down, and notice the new field,
                    /cc_type.</span>
                <div class="itemgroup info"><img class="image" id="task_wgb_t4p_ms__image_h4c_d4h_4s" src="../Graphics/Tutorial-Exp-JythonPreview.png" height="288" width="700"></img></div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph uicontrol">Close Preview</span>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Add an <span class="ph uicontrol">Expression Evaluator</span> processor to the canvas and
                    connect the second, default stream of the <span class="ph uicontrol">Stream Selector</span>
                    to it.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click the <span class="keyword wintitle">Expressions</span> tab.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click the <span class="ph uicontrol">Add</span> icon twice and configure the properties as
                    follows:</span>
                <div class="itemgroup info">
                    <table cellpadding="4" cellspacing="0" summary="" id="task_wgb_t4p_ms__simpletable_xdm_rcr_ps" border="1" class="simpletable"><tr class="sthead">
                            <th valign="bottom" align="left" id="d61433e1458" class="stentry">Output Field</th>

                            <th valign="bottom" align="left" id="d61433e1461" class="stentry">Expression</th>

                        </tr>
<tr class="strow">
                            <td valign="top" headers="d61433e1458" class="stentry">/cc_type</td>

                            <td valign="top" headers="d61433e1461" class="stentry">n/a</td>

                        </tr>
</table>

                </div>
                <div class="itemgroup info">This creates a cc_type field that indicates the information is not
                    applicable.</div>
                <div class="itemgroup info">Since we're using "n/a" as a constant for the expression, we don't need to use
                    the dollar sign and brackets for the expression. But if we wanted to use them,
                    we could define them as ${'credit_card_type'} and ${'N/A'}. </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Link the Expression Evaluator to the Hadoop FS destination. </span>
                <div class="itemgroup info">This streams the data from this branch to the destination, merging data from
                    both branches: 
                    <img class="image" id="task_wgb_t4p_ms__image_adv_r2r_ps" src="../Graphics/Tutorial-Expression.png" height="365" width="677"></img></div>
            </li>
</ol>

    </div>

</div>
<div class="topic task nested1" id="task_ets_dkj_ps">
    <h2 class="title topictitle2">Create a Data Rule and Alert</h2>

    
    <div class="body taskbody"><p class="shortdesc">Now before we run the basic pipeline, let's add a data rule and alert. Data rules are
        user-defined rules used to inspect data moving between two stages. They are a powerful way
        to look for outliers and anomalous data. </p>

        <div class="section context">
            <p class="p">Data rules and alerts require a detailed understanding of the data passing through
                the pipeline. For more general pipeline monitoring information, you can use metric
                rules and alerts.</p>

            <p class="p">The script in the Jython Evaluator creates error records for credit card transactions
                without credit card numbers. We can create a data rule and alert to let us know when
                the record count reaches a specified threshold. </p>

            <p class="p">We'll use an expression with the record:value('&lt;field path&gt;') function to identify
                when the credit card number field, <samp class="ph codeph">/credit_card</samp>, is null. The
                function returns the data in the specified field. </p>

        </div>

        <ol class="ol steps" id="task_ets_dkj_ps__steps_cw5_qqj_ps"><li class="li step stepexpand">
                <span class="ph cmd">Between the <span class="ph uicontrol">Stream Selector</span> and the <span class="ph uicontrol">Jython
                        Evaluator</span>, select the link or Data Inspection icon: <img class="image" id="task_ets_dkj_ps__image_qfg_txj_5s" src="../Graphics/icon_ConfigLink.png" height="15" width="29"></img>.</span>
                <div class="itemgroup info">The <span class="keyword wintitle">Data Rules</span> tab displays in the Preview panel. </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph uicontrol">Add</span>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the <span class="keyword wintitle">Data Rule</span> dialog box, configure the following
                    properties:</span>
                <div class="itemgroup info">
                    <table cellpadding="4" cellspacing="0" summary="" id="task_ets_dkj_ps__simpletable_z34_ctj_ps" border="1" class="simpletable"><tr class="sthead">
                            <th valign="bottom" align="left" id="d61433e1571" class="stentry" width="30.3951367781155%">Data Rule Property</th>

                            <th valign="bottom" align="left" id="d61433e1574" class="stentry" width="69.6048632218845%">Description</th>

                        </tr>
<tr class="strow">
                            <td valign="top" headers="d61433e1571" class="stentry">Label</td>

                            <td valign="top" headers="d61433e1574" class="stentry">Missing Card Numbers</td>

                        </tr>
<tr class="strow">
                            <td valign="top" headers="d61433e1571" class="stentry">Condition</td>

                            <td valign="top" headers="d61433e1574" class="stentry">${record:value("/credit_card") == ""}</td>

                        </tr>
<tr class="strow">
                            <td valign="top" headers="d61433e1571" class="stentry">Sampling Percentage</td>

                            <td valign="top" headers="d61433e1574" class="stentry">20</td>

                        </tr>
<tr class="strow">
                            <td valign="top" headers="d61433e1571" class="stentry">Alert Text</td>

                            <td valign="top" headers="d61433e1574" class="stentry">Over 10 missing credit card numbers!</td>

                        </tr>
<tr class="strow">
                            <td valign="top" headers="d61433e1571" class="stentry">Threshold Value</td>

                            <td valign="top" headers="d61433e1574" class="stentry">10</td>

                        </tr>
</table>

                    <div class="note note"><span class="notetitle">Note:</span> With a larger data set, a smaller sampling percentage and higher threshold
                        value might be appropriate, but we'll use these numbers for the purposes of
                        the tutorial.</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph uicontrol">Save</span>.</span>
                <div class="itemgroup info">The rule displays in the data rule list. And the Data Inspection icon darkens
                    to show that a data rule is configured for the stream.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To enable the data rule and alert, click <span class="ph uicontrol">Active</span>. </span>
                <div class="itemgroup info">Notice the Data Inspection icon becomes a darker grey to show that a data rule
                    is active on the stream.</div>
            </li>
</ol>

    </div>

</div>
<div class="topic task nested1" id="task_m21_dyj_ps">
    <h2 class="title topictitle2">Run the Basic Pipeline</h2>

    
    <div class="body taskbody"><p class="shortdesc">Now that the basic pipeline is complete, you can start it by clicking the
            <span class="ph uicontrol">Start</span> icon: <img class="image" id="image_lgp_rxp_ts" src="../Graphics/icon_ConfigStartPipeline.png" height="18" width="16"></img>.</p>

        <div class="section context">The console enters Monitor mode and shows summary statistics in the Monitor panel.
            At some point as the pipeline runs, the data alert triggers. A message displays and the
            location of the triggered data alert turns red:<p class="p"><img class="image" id="task_m21_dyj_ps__image_gc3_vyr_ps" src="../Graphics/Tutorial-RunPipeline.png" height="485" width="732"></img></p>
<p class="p">You can close the message and explore the information available in the
                Monitor panel.</p>
<p class="p">Note that when you select an unused part of the canvas, the
                Monitor panel displays monitoring information for the entire pipeline. When you
                select a stage, it displays information for the stage. </p>
<p class="p">The Jython Evaluator
                shows 40 error records. Click the error records number to see the list of cached
                error records and related error messages. </p>
<p class="p">You can also select the red Data
                Inspection icon to view information about the data alert and view the error records
                associated with the data alert.</p>
<p class="p">To continue with the extended tutorial, stop
                the pipeline. </p>
<p class="p">If you like, you can use data preview to step through the
                pipeline to review how each stage processes the data. But if you hang in there, you
                can do it with us at the end of the extended tutorial. </p>
</div>

    </div>

</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Tutorial/Tutorial-title.html" title="Data Collector Tutorial"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Data Collector Tutorial</span></a></span>  </div><div class="footer"></div>
</body>
</html>