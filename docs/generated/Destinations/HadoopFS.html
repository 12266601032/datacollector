
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="The Hadoop FS destination writes data to a Hadoop file system. You can write delimited or JSON data to flat files or Hadoop sequence files. When you configure a Hadoop FS destination, you define the ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="copyright" content="(C) Copyright 2005"></meta><meta name="DC.rights.owner" content="(C) Copyright 2005"></meta><meta name="DC.Type" content="concept"></meta><meta name="DC.Title" content="Hadoop FS"></meta><meta name="abstract" content="The Hadoop FS destination writes data to a Hadoop file system. You can write delimited or JSON data to flat files or Hadoop sequence files."></meta><meta name="description" content="The Hadoop FS destination writes data to a Hadoop file system. You can write delimited or JSON data to flat files or Hadoop sequence files."></meta><meta name="DC.Relation" scheme="URI" content="../Destinations/Destinations_title.html"></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="concept_awl_4km_zq"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Hadoop FS</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../skin.css"></link><script type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="../Destinations/Destinations_title.html" title="Destinations">Destinations</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="../Destinations/Destinations_title.html" title="Destinations"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Destinations</span></a></span>  </div></td></tr></tbody></table>
<div class="nested0" id="concept_awl_4km_zq">
 <h1 class="title topictitle1">Hadoop FS</h1>

 
 <div class="body conbody"><p class="shortdesc">The Hadoop FS destination writes data to a Hadoop file system. You can write delimited
  or JSON data to flat files or Hadoop sequence files. </p>

  <p class="p">When you configure a Hadoop FS destination, you define the output directory template. Hadoop FS
   creates output directories based the template and writes records to the directories based on the
   specified time basis - the time that a record is processed or the time associated with the
   record. </p>

 </div>

<div class="related-links"></div>
<div class="topic concept nested1" id="concept_cvc_skd_br">
 <h2 class="title topictitle2">Directory Templates</h2>

 
 <div class="body conbody"><p class="shortdesc">The Hadoop FS destination uses directory templates to create output and error
  directories. Hadoop FS writes records to the directories based on the time </p>

  <div class="p">You can use the following elements in a
   directory template:<dl class="dl">
    
     <dt class="dt dlterm">Constants</dt>

     <dd class="dd">You can use any constant, such as "output" or "error."</dd>

    
    
     <dt class="dt dlterm">Field Values</dt>

     <dd class="dd">You can call a field in an expression: ${record:value("/&lt;/Field&gt;")}.</dd>

    
    
     <dt class="dt dlterm">Datetime Variables</dt>

     <dd class="dd">Hadoop FS creates directories based on the smallest datetime variable that you use. For
      example, if the smallest variable is hours, then the directories are created for every hour of
      the day. </dd>

     <dd class="dd">You can use any combination of the following datetime variables:<ul class="ul" id="concept_cvc_skd_br__ul_s2x_5qq_1r">
       <li class="li">${YYYY} - four digit year</li>

       <li class="li">${YY} - two digit year</li>

       <li class="li">${MM} - two digit month</li>

       <li class="li">${DD} - two digit date</li>

       <li class="li">${hh} - two digit hour</li>

       <li class="li">${mm} - two digit minute</li>

       <li class="li">${ss} - two digit second</li>

      </ul>
</dd>

    
   </dl>
</div>

  <p class="p">For example, to create output directories for event data based on the state and timestamp of a
   record, you might define the following output directory template:
   /outputfiles/${record:value("/State")}/${YY}-${MM}-${hh}.</p>

  <p class="p">Since the smallest unit of measurement is the hour, Hadoop FS creates a new output directory
   every hour for every state included in output data. </p>

 </div>

</div>
<div class="topic concept nested1" id="concept_gkz_smd_br">
 <h2 class="title topictitle2">Time Basis</h2>

 
 <div class="body conbody"><p class="shortdesc">The time basis helps determine the output directory to use when writing an output
  record. The time basis can be based on the time of processing or the time associated with the
  record. </p>

  <p class="p">To use the processing time as the time basis,
   use the following default expression: ${time:now()}. </p>

  <p class="p">To use a datetime value associated with the record, use an expression that calls a field and
   resolves to a datetime value. When you use the time associated with a record, be sure to define
   the time zone for the data as well. </p>

  <p class="p">For example, to use the record as a time basis for the event data described above, you might
   use the following expression to call the Timestamp field: ${record:value("/Timestamp")}. Hadoop
   FS writes a record to an output directory based on the timestamp of the record. </p>

 </div>

</div>
<div class="topic concept nested1" id="concept_xgm_g4d_br">
 <h2 class="title topictitle2">Late Records and Late Record Handling </h2>

 
 <div class="body conbody"><p class="shortdesc">You can define a time limit for records to be written to the appropriate output
  directory and treat all records past the limit as late. This limit is appropriate when you use the
  datetime of a record as the time basis. </p>

  <p class="p">For example, a Hadoop FS destination writes event data to hourly output directories based on
   the timestamp of the event, and has a time limit of one day. Any records that arrive more than a
   day after the hourly output directory window are considered late and are handled based on the
   late record handling properties.</p>

  <p class="p">You can send late records to a late records file, for pipeline error handling, or discard the
   records. To send records to a late records file, you define an late records directory template. </p>

 </div>

</div>
<div class="topic concept nested1" id="concept_xh5_y4d_br">
 <h2 class="title topictitle2">Additional Hadoop Properties</h2>

 
 <div class="body conbody"><p class="shortdesc">You can add custom Hadoop configuration properties to the Hadoop FS destination. </p>

  <p class="p">When you add the
   Hadoop configuration property, enter the Hadoop property name and the value. The Hadoop FS
   destination does not validate the property names or values. </p>

 </div>

</div>
<div class="topic task nested1" id="task_m2m_skm_zq">
    <h2 class="title topictitle2">Configuring a Hadoop FS Destination</h2>

    
    <div class="body taskbody"><p class="shortdesc">Configure a Hadoop FS destination to write data to a Hadoop file system.</p>

        <div class="section context">
            <p class="p"></p>

        </div>

        <ol class="ol steps" id="task_m2m_skm_zq__steps_ljw_44d_br"><li class="li step stepexpand">
                <span class="ph cmd">In the Properties panel, optionally enter a name and description for the
                    stage. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">For <span class="ph uicontrol">Required Fields</span>, enter any fields that you want to
                    require data. <a class="xref" href="Destinations_overview.html#concept_dnj_bkm_vq" title="You can configure required fields for any processor and most target stages. A required field must exist in a record to keep it in the pipeline.">
                        <img class="image" id="task_m2m_skm_zq__d176e136" src="../Reusable_Content/../Graphics/icon_moreInfo.png" height="14" width="14"></img></a></span>
                <div class="itemgroup info">You might include any field that the processor uses.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">On the <span class="keyword wintitle">Hadoop FS</span> tab, configure the following
                    properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_m2m_skm_zq__table_rst_t4d_br" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="25.97402597402597%" id="d1506e257">Hadoop FS Properties</th>

                                    <th class="entry" valign="top" width="74.02597402597402%" id="d1506e260">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="25.97402597402597%" headers="d1506e257 ">Hadoop FS URI</td>

                                    <td class="entry" valign="top" width="74.02597402597402%" headers="d1506e260 ">URI of the Hadoop file system.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="25.97402597402597%" headers="d1506e257 ">Kerberos Enabled </td>

                                    <td class="entry" valign="top" width="74.02597402597402%" headers="d1506e260 ">Indicates that the Hadoop file system uses Kerberos
                                        authentication.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="25.97402597402597%" headers="d1506e257 ">Kerberos Principal</td>

                                    <td class="entry" valign="top" width="74.02597402597402%" headers="d1506e260 ">Kerberos principal used to connect to the Hadoop file
                                        system.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="25.97402597402597%" headers="d1506e257 ">Kerberos Keytab</td>

                                    <td class="entry" valign="top" width="74.02597402597402%" headers="d1506e260 ">Location for the keytab file that contains the
                                        credentials for the Kerberos principal.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="25.97402597402597%" headers="d1506e257 ">Hadoop FS Configs</td>

                                    <td class="entry" valign="top" width="74.02597402597402%" headers="d1506e260 ">Additional Hadoop configuration properties to use. <p class="p">To
                                            add properties, click <span class="ph uicontrol">Add</span> and
                                            define the Hadoop property name and value. Use the
                                            property names and values as expected by
                                        Hadoop.</p>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">On the Output Files tab, configure the following options:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_m2m_skm_zq__table_byd_xpd_br" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="25.70694087403599%" id="d1506e341">Output Files Property</th>

                                    <th class="entry" valign="top" width="74.293059125964%" id="d1506e344">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="25.70694087403599%" headers="d1506e341 ">Data Format</td>

                                    <td class="entry" valign="top" width="74.293059125964%" headers="d1506e344 ">Format of data to be written. Use one of the following
                                            options:<ul class="ul" id="task_m2m_skm_zq__ul_un2_cqd_br">
                                            <li class="li">JSON</li>

                                            <li class="li">Comma-separated</li>

                                            <li class="li">Tab-separated</li>

                                        </ul>
</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="25.70694087403599%" headers="d1506e341 ">File Name Unique Prefix</td>

                                    <td class="entry" valign="top" width="74.293059125964%" headers="d1506e344 ">Prefix to use for output files. Use when writing to a
                                        directory that receives files from other sources.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="25.70694087403599%" headers="d1506e341 ">Directory Template <a class="xref" href="HadoopFS.html#concept_cvc_skd_br" title="The Hadoop FS destination uses directory templates to create output and error directories. Hadoop FS writes records to the directories based on the time"><img class="image" id="task_m2m_skm_zq__image_c4p_p5v_yq" src="../Graphics/icon_moreInfo.png" height="14" width="14"></img></a></td>

                                    <td class="entry" valign="top" width="74.293059125964%" headers="d1506e344 ">Template for creating output directories. You can use
                                        constants, field values, and datetime variables. Output
                                        directories are created based on the smallest datetime
                                        variable in the template.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="25.70694087403599%" headers="d1506e341 ">Time Zone</td>

                                    <td class="entry" valign="top" width="74.293059125964%" headers="d1506e344 ">Time zone to use to create directories and evaluate where
                                        records are written.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="25.70694087403599%" headers="d1506e341 ">Time Basis <a class="xref" href="HadoopFS.html#concept_xgm_g4d_br" title="You can define a time limit for records to be written to the appropriate output directory and treat all records past the limit as late. This limit is appropriate when you use the datetime of a record as the time basis."><img class="image" id="task_m2m_skm_zq__image_agk_j12_br" src="../Graphics/icon_moreInfo.png" height="14" width="14"></img></a></td>

                                    <td class="entry" valign="top" width="74.293059125964%" headers="d1506e344 ">Time basis to use for creating output directories and
                                        writing records to the directories.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="25.70694087403599%" headers="d1506e341 ">
                                        
                                    </td>

                                    <td class="entry" valign="top" width="74.293059125964%" headers="d1506e344 "> </td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="25.70694087403599%" headers="d1506e341 "> </td>

                                    <td class="entry" valign="top" width="74.293059125964%" headers="d1506e344 "> </td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">On the <span class="keyword wintitle">Late Records </span>tab, configure the following
                    properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_m2m_skm_zq__table_wv3_xzd_br" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="26.525198938992045%" id="d1506e465"> </th>

                                    <th class="entry" valign="top" width="73.47480106100795%" id="d1506e467"> </th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="26.525198938992045%" headers="d1506e465 "> </td>

                                    <td class="entry" valign="top" width="73.47480106100795%" headers="d1506e467 ">Time limit for output directories to accept data.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="26.525198938992045%" headers="d1506e465 ">Late Record Handling</td>

                                    <td class="entry" valign="top" width="73.47480106100795%" headers="d1506e467 ">How to handle late records. Use one of the following
                                            options:<ul class="ul" id="task_m2m_skm_zq__ul_gx4_c12_br">
                                            <li class="li">Send to error - Sends the record for pipeline error
                                                handling. </li>

                                            <li class="li">Send to late records file - Sends the record to a
                                                late records file.</li>

                                            <li class="li">Discard - Discards the record.</li>

                                        </ul>
</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="26.525198938992045%" headers="d1506e465 ">Late Records Directory Template <a class="xref" href="HadoopFS.html#concept_cvc_skd_br" title="The Hadoop FS destination uses directory templates to create output and error directories. Hadoop FS writes records to the directories based on the time"><img class="image" id="task_m2m_skm_zq__image_f41_j12_br" src="../Graphics/icon_moreInfo.png" height="14" width="14"></img></a></td>

                                    <td class="entry" valign="top" width="73.47480106100795%" headers="d1506e467 ">Template for creating late records directories. You can
                                        use constants, field values, and datetime variables. Output
                                        directories are created based on the smallest datetime
                                        variable in the template.</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
</ol>

    </div>

</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Destinations/Destinations_title.html" title="Destinations"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Destinations</span></a></span>  </div><div class="footer">WebHelp output generated by<a href="http://www.oxygenxml.com" target="_blank"><span class="oXygenLogo"><img src="../oxygen-webhelp/resources/img/LogoOxygen100x22.png" alt="Oxygen"></img></span><span class="xmlauthor">XML Author</span></a></div>
</body>
</html>